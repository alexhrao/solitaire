(this.webpackJsonpsolitaire=this.webpackJsonpsolitaire||[]).push([[0],[,,,,,,,function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},,,function(e,t,a){e.exports=a(25)},,,,,function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){"use strict";a.r(t);var n,c=a(0),r=a.n(c),l=a(12),s=a.n(l),o=(a(19),a(20),a(13)),i=a(1),u=a(3),d=a(2),f=a(4),v=a(5);a(7),a(8),a(9),a(10);!function(e){e.S="Spades",e.H="Hearts",e.C="Clubs",e.D="Diamonds"}(n||(n={}));var h=n,m=(a(11),150),p=200,k="40px Calibri",S="20px Calibri",C=10,b=15,y=20,g="black",E="black",T="red",w="red",x="white",P="skyblue",j=30,O="darkgray",z=function(e){var t=.3*y;e.beginPath(),e.moveTo(0,t),e.bezierCurveTo(0,0,-b/2,0,-b/2,t),e.bezierCurveTo(-b/2,(y+t)/2,0,(y+t)/2,0,y),e.bezierCurveTo(0,(y+t)/2,b/2,(y+t)/2,b/2,t),e.bezierCurveTo(b/2,0,0,0,0,t),e.closePath(),e.fillStyle=T,e.fill()},D=function(e){var t=b/2+C,a=C;e.translate(t,a),z(e),e.translate(-t,-a);var n=m-(b/2+C),c=p-y/2;e.translate(n,c),e.scale(1,-1),z(e),e.scale(1,-1),e.translate(-n,-c)},N=function(e){var t=b/2,a=y/2,n=t/10,c=t/2;e.beginPath(),e.fillStyle=E,e.moveTo(t,a),e.arc(t-c+n,a,c,0,2*Math.PI),e.moveTo(t,a),e.arc(t+c-n,a,c,0,2*Math.PI),e.moveTo(t,a),e.arc(t,a-c+n,c,0,2*Math.PI),e.moveTo(t,a),e.lineTo(t-t/2,2*a),e.lineTo(t+t/2,2*a),e.fill(),e.closePath()},A=function(e){e.translate(C,C),N(e),e.translate(-C,-C);var t=m-b-C,a=p-y/2;e.translate(t,a),e.scale(1,-1),N(e),e.scale(1,-1),e.translate(-t,-a)},I=function(e){e.beginPath(),e.fillStyle=w,e.moveTo(b/2,0),e.lineTo(0,y/2),e.lineTo(b/2,y),e.lineTo(b,y/2),e.lineTo(b/2,0),e.fill(),e.closePath()},H=function(e){e.translate(C,C),I(e),e.translate(-C,-C);var t=m-b-C,a=p-y/2;e.translate(t,a),e.scale(1,-1),I(e),e.scale(1,-1),e.translate(-t,-a)},M=function(e){var t=.7*y,a=.3*b,n=.7*b;e.beginPath(),e.moveTo(0,0),e.bezierCurveTo(0,t/2,-b/2,t/2,-b/2,t),e.bezierCurveTo(-b/2,1.3*t,0,1.3*t,0,t),e.bezierCurveTo(0,1.3*t,b/2,1.3*t,b/2,t),e.bezierCurveTo(b/2,t/2,0,t/2,0,0),e.closePath(),e.fill(),e.beginPath(),e.moveTo(0,t),e.quadraticCurveTo(0,t+a,-n/2,t+a),e.lineTo(n/2,t+a),e.quadraticCurveTo(0,t+a,0,t),e.closePath(),e.fillStyle=g,e.fill()},J=function(e){e.fillStyle=g;var t=b/2+C,a=C;e.translate(t,a),M(e),e.translate(-t,-a);var n=m-(b/2+C),c=p-y/2;e.translate(n,c),e.scale(1,-1),M(e),e.scale(1,-1),e.translate(-n,-c)},R=function(e){e.lineWidth=1;var t=p/j*2;e.beginPath(),e.strokeStyle="red";for(var a=0;a<j;++a)e.moveTo(0,a*t),e.lineTo(a*t,0);e.closePath(),e.stroke(),e.beginPath();for(var n=0;n<j;++n)e.moveTo(m-n*t,0),e.lineTo(m,n*t);e.closePath(),e.stroke()},W=function(e){e.fillStyle=O,e.fillRect(0,0,m,p)},q=function(e,t){1===t?e.fillText("A",0,0):t<11?e.fillText("".concat(t),0,0):11===t?e.fillText("J",0,0):12===t?e.fillText("Q",0,0):e.fillText("K",0,0)},B=function(e,t){switch(e.font=k,t.suit){case h.S:e.fillStyle=g;break;case h.C:e.fillStyle=E;break;case h.D:e.fillStyle=w;break;case h.H:e.fillStyle=T}e.textAlign="center",e.translate(m/2,p/2),q(e,t.value),e.translate(-m/2,-p/2);var a=m-2*C,n=3*C;e.translate(a,n),e.font=S,q(e,t.value),e.translate(-a,-n);var c=2*C,r=p-1.5*C;e.translate(c,r),e.font=S,q(e,t.value),e.translate(-c,-r)},K=function(e,t){e.clearRect(0,0,m,p),e.fillStyle=t?P:x,e.fillRect(0,0,m,p)},Q=function(e){return r.a.createElement("canvas",{id:"canvas".concat(e.suit,"-").concat(e.value),className:"react-card ".concat(e.isShown?"":"no-click"),ref:"canvas",width:m,height:p})},U=(a(21),function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(u.a)(this,Object(d.a)(t).call(this,e))).componentDidMount=function(){a.renderCard()},a.componentDidUpdate=function(){a.renderCard()},a.render=function(){var e=a.props,t=e.card,n=e.onClick;return r.a.createElement("div",{className:"react-card-holder",onClick:function(){return n(t)}},Q(t))},a.renderCard=function(){var e=a.props,t=e.card,n=e.isSelected,c=a.refs.canvas.getContext("2d");if(null!==c){if(K(c,n),!t.isShown)return void R(c);if(-1===t.value)return void W(c);switch(t.suit){case h.C:A(c);break;case h.D:H(c);break;case h.H:D(c);break;case h.S:J(c)}B(c,t)}},a}return Object(f.a)(t,e),t}(c.Component)),$=r.a.createContext([]),F=(a(22),function(e){var t=e.deck,a=e.dealt,n=e.onDeal,c=e.onCardClick,l=null;l=t.length>0?r.a.createElement(U,{card:{suit:h.S,type:"card",isShown:!1,value:0},onClick:n}):r.a.createElement(U,{card:{suit:h.S,type:"card",isShown:!0,value:-1},onClick:n});var s=null;return s=a.length>0?r.a.createElement($.Consumer,null,(function(e){var t=a[a.length-1],n=1===e.length&&t.suit===e[0].suit&&t.value===e[0].value;return r.a.createElement(U,{card:t,onClick:c,isSelected:n})})):r.a.createElement(U,{card:{suit:h.S,type:"card",isShown:!0,value:-1},onClick:function(){}}),r.a.createElement("div",{className:"react-deck"},r.a.createElement("div",{className:"deck-dealer"},l),r.a.createElement("div",{className:"deck-dealt"},s))}),G=(a(23),function(e,t){return function(a){var n=e.findIndex((function(e){return e.value===a.value&&e.suit===a.suit}));t(-1===n?void 0:n)}}),L=function(e){var t=e.column,a=e.onClick,n=t.cards,c=G(n,a),l=0===n.length?[r.a.createElement(U,{card:{type:"card",value:-1,suit:h.S,isShown:!0},onClick:c})]:n.map((function(e){return r.a.createElement($.Consumer,null,(function(t){return function(e,t){var a=-1!==e.findIndex((function(e){return e.suit===t.suit&&e.value===t.value}));return r.a.createElement(U,{key:"".concat(t.suit," ").concat(t.value),card:t,onClick:c,isSelected:a})}(t,e)}))}));return r.a.createElement("div",{className:"react-column"},l)},V=function(e){var t=e.source,a=e.onClick,n=0===t.cards.length?r.a.createElement(U,{card:{type:"card",value:-1,suit:h.S,isShown:!0},onClick:function(){return a(t)}}):r.a.createElement($.Consumer,null,(function(e){var n=t.cards[t.cards.length-1],c=-1!==e.findIndex((function(e){return e.value===n.value&&e.suit===n.suit}));return r.a.createElement(U,{card:t.cards[t.cards.length-1],onClick:function(){return a(t)},isSelected:c})}));return r.a.createElement("div",null,n)};a(24);function X(e){for(var t=e.length,a=Object(v.a)(e);t;){var n=Math.floor(Math.random()*t--),c=a[t];a[t]=a[n],a[n]=c}return a}var Y=[],Z=function(e){function t(e){var a;Object(i.a)(this,t),(a=Object(u.a)(this,Object(d.a)(t).call(this,e))).draw=function(){var e=a.state,t=e.selected,n=e.deck;if(0===n.deck.length)for(var c=n.dealt.pop();void 0!==c;)c.isShown=!1,n.deck.push(c),c=n.dealt.pop();else{var r=n.deck.pop();r.isShown=!0,n.dealt.push(r)}t.cards=[],t.source=void 0,a.setState({selected:t,deck:n})},a.onDeckClick=function(){var e=a.state,t=e.selected,n=e.deck;n.dealt.length>0?(t.cards=[n.dealt[n.dealt.length-1]],t.source=n):(t.cards=[],t.source=void 0),a.setState({selected:t})},a.onSuitClick=function(e){var t=a.state,n=t.selected,c=t.sources;if(void 0!==n.source){if(1===n.cards.length){var r=n.cards[0];a.canAppend(e,r)?(a.finalizeSelection(),n=a.state.selected,c=a.state.sources,e.cards.push(r)):(n.source=void 0,n.cards=[])}}else e.cards.length>0&&(n.source=e,n.cards=[e.cards[e.cards.length-1]]);c[e.index]=e,a.setState({selected:n,sources:c})},a.onColumnClick=function(e,t){var n=a.state,c=n.selected,r=n.cols;if(void 0!==c.source)"column"===c.source.type?a.canAppend(e,c.cards[0])?(c.cards.forEach((function(t){e.cards.push(t)})),a.finalizeSelection(),c=a.state.selected,r=a.state.cols):(c.cards=[],c.source=void 0):"deck"===c.source.type?a.canAppend(e,c.cards[0])&&(e.cards.push(c.cards[0]),a.finalizeSelection(),c=a.state.selected,r=a.state.cols):"suitSource"===c.source.type&&a.canAppend(e,c.cards[0])&&(e.cards.push(c.cards[0]),a.finalizeSelection(),c=a.state.selected,r=a.state.cols);else if(void 0!==t){c.cards=[];for(var l=t;l<e.cards.length;++l)c.cards.push(e.cards[l]);c.source=e}a.setState({selected:c,cols:r})},a.canAppend=function(e,t){if("deck"===e.type)return!1;if("column"===e.type){if(0===e.cards.length)return 13===t.value;var a=e.cards[e.cards.length-1];if((a.suit===h.C||a.suit===h.S)&&(t.suit===h.H||t.suit===h.D)||(a.suit===h.H||a.suit===h.D)&&(t.suit===h.C||t.suit===h.S))return t.value===a.value-1}else if("suitSource"===e.type){if(0===e.cards.length)return 1===t.value;var n=e.cards[e.cards.length-1];return t.suit===n.suit&&t.value===n.value+1}return!1},a.finalizeSelection=function(){var e=a.state,t=e.selected,n=e.sources,c=e.deck,r=e.cols;void 0!==t.source&&(Y.push({deck:Object(o.a)({},c),sources:Object(v.a)(n),cols:Object(v.a)(r)}),"deck"===t.source.type?c.dealt.pop():"column"===t.source.type?(t.cards.forEach((function(){r[t.source.index].cards.pop()})),r[t.source.index].cards.length>0&&(r[t.source.index].cards[r[t.source.index].cards.length-1].isShown=!0)):"suitSource"===t.source.type&&n[t.source.index].cards.pop(),t.cards=[],t.source=void 0,a.setState({selected:t,deck:c,sources:n,cols:r}))},a.render=function(){var e=a.state,t=e.deck,n=e.cols,c=e.sources,l=e.selected,s=n.map((function(e){return r.a.createElement(L,{key:e.index,column:e,onClick:function(t){return a.onColumnClick(e,t)}})})),o=c.map((function(e){return r.a.createElement(V,{source:e,onClick:a.onSuitClick})}));return r.a.createElement($.Provider,{value:l.cards},r.a.createElement("div",null,r.a.createElement("div",{className:"solitaire-header"},r.a.createElement("div",{className:"solitaire-deck"},r.a.createElement(F,{type:"deck",deck:t.deck,dealt:t.dealt,onDeal:a.draw,onCardClick:a.onDeckClick})),r.a.createElement("div",{className:"solitaire-sources"},o)),r.a.createElement("div",{className:"solitaire-cols"},s)))};var n=X(X(function(){var e=[];return Object.values(h).forEach((function(t){for(var a=1;a<=13;++a){var n={type:"card",value:a,suit:t,isShown:!1};e.push(n)}})),e}())),c=function(e){for(var t=[],a=0;a<7;++a)t.push({type:"column",cards:[],index:a});for(var n=0;n++<7;)for(var c=n-1;c<7;++c)t[c].cards.push(e.pop());for(var r=0;r<7;++r)t[r].cards[r].isShown=!0;return t}(n),l={type:"deck",deck:n,dealt:[]},s=Object.keys(h).map((function(e,t){return{type:"suitSource",index:t,cards:[]}}));return a.state={deck:l,cols:c,sources:s,selected:{type:"selected",cards:[],source:void 0}},a}return Object(f.a)(t,e),t}(c.Component),_=function(){return r.a.createElement("div",{className:"App"},r.a.createElement(Z,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(r.a.createElement(_,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}],[[14,1,2]]]);
//# sourceMappingURL=main.69930618.chunk.js.map